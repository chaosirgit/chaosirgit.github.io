<!doctype html><html lang=zh-cn>
<head>
<meta charset=utf-8>
<meta name=viewport content="width=device-width,initial-scale=1">
<meta name=color-scheme content="light dark">
<meta name=author content="éƒ­è¶…è¶…">
<meta name=description content="å‰è¨€    åœ¨é¡¹ç›®ä¸­éœ€è¦ä»¥ç¼–ç¨‹æ–¹å¼åå°æ‰§è¡Œè„šæœ¬ï¼Œä»¥å®˜æ–¹ Artisan::call() è°ƒç”¨çš„è¯ï¼Œå¦‚æœè„šæœ¬æ—¶é—´è¿‡é•¿ï¼Œä¼šè¿›ç¨‹ä¸­æ–­ï¼Œå¯¼è‡´è„šæœ¬æ‰§è¡Œä¸æˆåŠŸï¼Œæ‰€ä»¥éœ€è¦åå°æŒ‚èµ·æ‰§è¡Œã€‚
Artisan å‘½ä»¤è¡Œå·¥å…·    è¯·å‚ç…§å®˜æ–¹æ–‡æ¡£
ä»¥ç¼–ç¨‹æ–¹å¼è°ƒç”¨    1 2 3 4 5  <?php  use Illuminate\Support\Facades\Artisan;  Artisan::call('command',['id'=>1]);   è¿™é‡Œæ³¨æ„ï¼Œå¦‚æœåœ¨ä»£ç æœ‰äº‹åŠ¡ï¼ŒArtisan::call() éœ€è¦åœ¨ commit æˆ– rollback åè°ƒç”¨ã€‚
åå°è°ƒç”¨    ç›´æ¥ä¸Šä»£ç 
1 2 3 4 5 6 7  <?php use Symfony\Component\Process\Process;  $process = new Process('nohup php artisan command '.$id .' >/var/www/html/crowd/nohup.log 2>&1 &','path/to/artisan'); //ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯è¿è¡Œçš„å‘½ä»¤,å‘½ä»¤æ–¹å¼è·Ÿ Linux ä¸€è‡´ï¼Œç¬¬äºŒä¸ªå‚æ•°æ˜¯å¯ä»¥æ‰§è¡Œæ­¤æ¡å‘½ä»¤çš„è·¯å¾„  $process->start();  ?">
<meta name=keywords content="Laravel,Artisan,åå°,å‘½ä»¤è¡Œ">
<meta name=twitter:card content="summary">
<meta name=twitter:title content="Laravel Artisan åå°è°ƒç”¨">
<meta name=twitter:description content="å‰è¨€    åœ¨é¡¹ç›®ä¸­éœ€è¦ä»¥ç¼–ç¨‹æ–¹å¼åå°æ‰§è¡Œè„šæœ¬ï¼Œä»¥å®˜æ–¹ Artisan::call() è°ƒç”¨çš„è¯ï¼Œå¦‚æœè„šæœ¬æ—¶é—´è¿‡é•¿ï¼Œä¼šè¿›ç¨‹ä¸­æ–­ï¼Œå¯¼è‡´è„šæœ¬æ‰§è¡Œä¸æˆåŠŸï¼Œæ‰€ä»¥éœ€è¦åå°æŒ‚èµ·æ‰§è¡Œã€‚
Artisan å‘½ä»¤è¡Œå·¥å…·    è¯·å‚ç…§å®˜æ–¹æ–‡æ¡£
ä»¥ç¼–ç¨‹æ–¹å¼è°ƒç”¨    1 2 3 4 5  <?php  use Illuminate\Support\Facades\Artisan;  Artisan::call('command',['id'=>1]);   è¿™é‡Œæ³¨æ„ï¼Œå¦‚æœåœ¨ä»£ç æœ‰äº‹åŠ¡ï¼ŒArtisan::call() éœ€è¦åœ¨ commit æˆ– rollback åè°ƒç”¨ã€‚
åå°è°ƒç”¨    ç›´æ¥ä¸Šä»£ç 
1 2 3 4 5 6 7  <?php use Symfony\Component\Process\Process;  $process = new Process('nohup php artisan command '.$id .' >/var/www/html/crowd/nohup.log 2>&1 &','path/to/artisan'); //ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯è¿è¡Œçš„å‘½ä»¤,å‘½ä»¤æ–¹å¼è·Ÿ Linux ä¸€è‡´ï¼Œç¬¬äºŒä¸ªå‚æ•°æ˜¯å¯ä»¥æ‰§è¡Œæ­¤æ¡å‘½ä»¤çš„è·¯å¾„  $process->start();  ?">
<meta property="og:title" content="Laravel Artisan åå°è°ƒç”¨">
<meta property="og:description" content="å‰è¨€    åœ¨é¡¹ç›®ä¸­éœ€è¦ä»¥ç¼–ç¨‹æ–¹å¼åå°æ‰§è¡Œè„šæœ¬ï¼Œä»¥å®˜æ–¹ Artisan::call() è°ƒç”¨çš„è¯ï¼Œå¦‚æœè„šæœ¬æ—¶é—´è¿‡é•¿ï¼Œä¼šè¿›ç¨‹ä¸­æ–­ï¼Œå¯¼è‡´è„šæœ¬æ‰§è¡Œä¸æˆåŠŸï¼Œæ‰€ä»¥éœ€è¦åå°æŒ‚èµ·æ‰§è¡Œã€‚
Artisan å‘½ä»¤è¡Œå·¥å…·    è¯·å‚ç…§å®˜æ–¹æ–‡æ¡£
ä»¥ç¼–ç¨‹æ–¹å¼è°ƒç”¨    1 2 3 4 5  <?php  use Illuminate\Support\Facades\Artisan;  Artisan::call('command',['id'=>1]);   è¿™é‡Œæ³¨æ„ï¼Œå¦‚æœåœ¨ä»£ç æœ‰äº‹åŠ¡ï¼ŒArtisan::call() éœ€è¦åœ¨ commit æˆ– rollback åè°ƒç”¨ã€‚
åå°è°ƒç”¨    ç›´æ¥ä¸Šä»£ç 
1 2 3 4 5 6 7  <?php use Symfony\Component\Process\Process;  $process = new Process('nohup php artisan command '.$id .' >/var/www/html/crowd/nohup.log 2>&1 &','path/to/artisan'); //ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯è¿è¡Œçš„å‘½ä»¤,å‘½ä»¤æ–¹å¼è·Ÿ Linux ä¸€è‡´ï¼Œç¬¬äºŒä¸ªå‚æ•°æ˜¯å¯ä»¥æ‰§è¡Œæ­¤æ¡å‘½ä»¤çš„è·¯å¾„  $process->start();  ?">
<meta property="og:type" content="article">
<meta property="og:url" content="https://blog.adminchao.com/zh-cn/posts/laravel-artisan-%E5%90%8E%E5%8F%B0%E8%B0%83%E7%94%A8/"><meta property="article:section" content="posts">
<meta property="article:published_time" content="2018-10-15T10:04:39+00:00">
<meta property="article:modified_time" content="2018-10-15T10:04:39+00:00"><meta property="og:site_name" content="éƒ­è¶…è¶…çš„åšå®¢">
<title>
Laravel Artisan åå°è°ƒç”¨ Â· éƒ­è¶…è¶…çš„åšå®¢
</title><link rel=canonical href=https://blog.adminchao.com/zh-cn/posts/laravel-artisan-%E5%90%8E%E5%8F%B0%E8%B0%83%E7%94%A8/>
<link rel=preload href="/fonts/forkawesome-webfont.woff2?v=1.2.0" as=font type=font/woff2 crossorigin>
<link rel=stylesheet href=/css/coder.min.d9fddbffe6f27e69985dc5fe0471cdb0e57fbf4775714bc3d847accb08f4a1f6.css integrity="sha256-2f3b/+byfmmYXcX+BHHNsOV/v0d1cUvD2Eesywj0ofY=" crossorigin=anonymous media=screen>
<link rel=stylesheet href=/css/coder-dark.min.002ee2378e14c7a68f1f0a53d9694ed252090987c4e768023fac694a4fc5f793.css integrity="sha256-AC7iN44Ux6aPHwpT2WlO0lIJCYfE52gCP6xpSk/F95M=" crossorigin=anonymous media=screen>
<link rel=icon type=image/png href=/images/favicon-32x32.png sizes=32x32>
<link rel=icon type=image/png href=/images/favicon-16x16.png sizes=16x16>
<link rel=apple-touch-icon href=/images/apple-touch-icon.png>
<link rel=apple-touch-icon sizes=180x180 href=/images/apple-touch-icon.png>
<meta name=generator content="Hugo 0.93.3">
</head><body class="preload-transitions colorscheme-dark">
<div class=float-container>
<a id=dark-mode-toggle class=colorscheme-toggle>
<i class="fa fa-adjust fa-fw" aria-hidden=true></i>
</a>
</div><main class=wrapper>
<nav class=navigation>
<section class=container>
<a class=navigation-title href=/zh-cn>
éƒ­è¶…è¶…çš„åšå®¢
</a>
<input type=checkbox id=menu-toggle>
<label class="menu-button float-right" for=menu-toggle>
<i class="fa fa-bars fa-fw" aria-hidden=true></i>
</label>
<ul class=navigation-list>
<li class=navigation-item>
<a class=navigation-link href=/zh-cn/about/>å…³äº</a>
</li><li class=navigation-item>
<a class=navigation-link href=/zh-cn/posts/>åšæ–‡</a>
</li><li class=navigation-item>
<a class=navigation-link href=/zh-cn/contact/>è”ç³»</a>
</li><li class="navigation-item menu-separator">
<span>|</span>
</li><li class=navigation-item>
<a href=https://blog.adminchao.com/>ğŸ‡ºğŸ‡¸</a>
</li></ul></section></nav><div class=content>
<section class="container post">
<article>
<header>
<div class=post-title>
<h1 class=title>
<a class=title-link href=https://blog.adminchao.com/zh-cn/posts/laravel-artisan-%E5%90%8E%E5%8F%B0%E8%B0%83%E7%94%A8/>
Laravel Artisan åå°è°ƒç”¨
</a>
</h1></div><div class=post-meta>
<div class=date>
<span class=posted-on>
<i class="fa fa-calendar" aria-hidden=true></i>
<time datetime=2018-10-15T10:04:39Z>
2018-10-15 10:04:39
</time>
</span>
<span class=reading-time>
<i class="fa fa-clock-o" aria-hidden=true></i>
é˜…è¯»æ—¶é—´ï¼š1 åˆ†é’Ÿ
</span>
</div><div class=categories>
<i class="fa fa-folder" aria-hidden=true></i>
<a href=/zh-cn/categories/%E6%8A%80%E6%9C%AF/>æŠ€æœ¯</a></div><div class=tags>
<i class="fa fa-tag" aria-hidden=true></i>
<span class=tag>
<a href=/zh-cn/tags/laravel/>Laravel</a>
</span>
<span class=separator>â€¢</span>
<span class=tag>
<a href=/zh-cn/tags/artisan/>Artisan</a>
</span>
<span class=separator>â€¢</span>
<span class=tag>
<a href=/zh-cn/tags/%E5%90%8E%E5%8F%B0/>åå°</a>
</span>
<span class=separator>â€¢</span>
<span class=tag>
<a href=/zh-cn/tags/%E5%91%BD%E4%BB%A4%E8%A1%8C/>å‘½ä»¤è¡Œ</a>
</span></div></div></header><div>
<h2 id=å‰è¨€>
å‰è¨€
<a class=heading-link href=#%e5%89%8d%e8%a8%80>
<i class="fa fa-link" aria-hidden=true></i>
</a>
</h2><p>åœ¨é¡¹ç›®ä¸­éœ€è¦ä»¥ç¼–ç¨‹æ–¹å¼åå°æ‰§è¡Œè„šæœ¬ï¼Œä»¥å®˜æ–¹ <code>Artisan::call()</code> è°ƒç”¨çš„è¯ï¼Œå¦‚æœè„šæœ¬æ—¶é—´è¿‡é•¿ï¼Œä¼šè¿›ç¨‹ä¸­æ–­ï¼Œå¯¼è‡´è„šæœ¬æ‰§è¡Œä¸æˆåŠŸï¼Œæ‰€ä»¥éœ€è¦åå°æŒ‚èµ·æ‰§è¡Œã€‚</p><h2 id=artisan-å‘½ä»¤è¡Œå·¥å…·>
Artisan å‘½ä»¤è¡Œå·¥å…·
<a class=heading-link href=#artisan-%e5%91%bd%e4%bb%a4%e8%a1%8c%e5%b7%a5%e5%85%b7>
<i class="fa fa-link" aria-hidden=true></i>
</a>
</h2><p>è¯·å‚ç…§å®˜æ–¹æ–‡æ¡£</p><h2 id=ä»¥ç¼–ç¨‹æ–¹å¼è°ƒç”¨>
ä»¥ç¼–ç¨‹æ–¹å¼è°ƒç”¨
<a class=heading-link href=#%e4%bb%a5%e7%bc%96%e7%a8%8b%e6%96%b9%e5%bc%8f%e8%b0%83%e7%94%a8>
<i class="fa fa-link" aria-hidden=true></i>
</a>
</h2><div class=highlight><div style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4>
<table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0>
<pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">2
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">3
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">4
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">5
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%>
<pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-php data-lang=php><span style=display:flex><span><span style=color:#ff79c6>&lt;?</span>php
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#ff79c6>use</span> Illuminate\Support\Facades\Artisan;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>Artisan<span style=color:#ff79c6>::</span><span style=color:#50fa7b>call</span>(<span style=color:#f1fa8c>&#39;command&#39;</span>,[<span style=color:#f1fa8c>&#39;id&#39;</span><span style=color:#ff79c6>=&gt;</span><span style=color:#bd93f9>1</span>]);
</span></span></code></pre></td></tr></table></div></div><p>è¿™é‡Œæ³¨æ„ï¼Œå¦‚æœåœ¨ä»£ç æœ‰äº‹åŠ¡ï¼Œ<code>Artisan::call()</code> éœ€è¦åœ¨ <code>commit</code> æˆ– <code>rollback</code> åè°ƒç”¨ã€‚</p><h2 id=åå°è°ƒç”¨>
åå°è°ƒç”¨
<a class=heading-link href=#%e5%90%8e%e5%8f%b0%e8%b0%83%e7%94%a8>
<i class="fa fa-link" aria-hidden=true></i>
</a>
</h2><p>ç›´æ¥ä¸Šä»£ç </p><div class=highlight><div style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4>
<table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0>
<pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">2
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">3
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">4
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">5
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">6
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">7
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%>
<pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-php data-lang=php><span style=display:flex><span><span style=color:#ff79c6>&lt;?</span>php
</span></span><span style=display:flex><span><span style=color:#ff79c6>use</span> Symfony\Component\Process\Process;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#8be9fd;font-style:italic>$process</span> <span style=color:#ff79c6>=</span> <span style=color:#ff79c6>new</span> Process(<span style=color:#f1fa8c>&#39;nohup php artisan command &#39;</span><span style=color:#ff79c6>.</span><span style=color:#8be9fd;font-style:italic>$id</span> <span style=color:#ff79c6>.</span><span style=color:#f1fa8c>&#39; &gt;/var/www/html/crowd/nohup.log 2&gt;&amp;1 &amp;&#39;</span>,<span style=color:#f1fa8c>&#39;path/to/artisan&#39;</span>); <span style=color:#6272a4>//ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯è¿è¡Œçš„å‘½ä»¤,å‘½ä»¤æ–¹å¼è·Ÿ Linux ä¸€è‡´ï¼Œç¬¬äºŒä¸ªå‚æ•°æ˜¯å¯ä»¥æ‰§è¡Œæ­¤æ¡å‘½ä»¤çš„è·¯å¾„
</span></span></span><span style=display:flex><span><span style=color:#6272a4></span>            <span style=color:#8be9fd;font-style:italic>$process</span><span style=color:#ff79c6>-&gt;</span><span style=color:#50fa7b>start</span>();
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#ff79c6>?&gt;</span>
</span></span></code></pre></td></tr></table></div></div></div><footer>
</footer></article></section></div><footer class=footer>
<section class=container>
Â©
2019 -
2022
éƒ­è¶…è¶…
Â·
æŠ€æœ¯æ”¯æŒ <a href=https://gohugo.io/>Hugo</a> & <a href=https://github.com/luizdepra/hugo-coder/>Coder</a>.
</section></footer></main><script src=/js/coder.min.8fb86376a16e684af472a329aef502dbebcfab65ce264e9750d144912947c602.js integrity="sha256-j7hjdqFuaEr0cqMprvUC2+vPq2XOJk6XUNFEkSlHxgI="></script>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-NK08XEDHKZ"></script>
<script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-NK08XEDHKZ")</script>
</body></html>