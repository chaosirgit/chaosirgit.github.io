<!doctype html><html lang=zh-cn>
<head>
<meta charset=utf-8>
<meta name=viewport content="width=device-width,initial-scale=1">
<meta name=color-scheme content="light dark">
<meta name=author content="éƒ­è¶…è¶…">
<meta name=description content="å‰è¨€    æˆ‘ä»¬éƒ½çŸ¥é“åœ¨æ¨¡å‹ä¸­ä½¿ç”¨ appends å±æ€§æ¥æ„å»ºè®¿é—®å™¨ä½¿å¾—è¿”å›ç»“æœæ·»åŠ ä¸€äº›å­—æ®µä¿¡æ¯ï¼Œä½†æ˜¯è¿™æ ·çš„è¯æœ‰ä¸€ä¸ªåå¤„ï¼Œå°±æ˜¯æ‰€æœ‰è¿™ä¸ªæ¨¡å‹çš„è¿”å›ç»“æœéƒ½ä¼šæœ‰è¿™äº›å­—æ®µä¿¡æ¯ï¼Œå¦‚æœæ¥å£ä¸­è§„å®šäº†ä¸¥æ ¼çš„è¿”å›ä¿¡æ¯å­—æ®µï¼Œè¿™æ ·å°±ä¸åˆé€‚äº†ã€‚
èƒ½ä¸èƒ½æœ‰å¥½çš„æ–¹æ³•åŠ¨æ€çš„æ˜¾ç¤ºæˆ–éšè—è¿™äº›å­—æ®µä¿¡æ¯å‘¢ï¼Ÿ
ç­”æ¡ˆæ˜¯è‚¯å®šçš„ã€‚
åŠ¨æ€æ˜¾ç¤º    åœ¨æ¥å£ä¸­ä¸´æ—¶æ˜¾ç¤º    é¦–å…ˆåœ¨ Model ä¸­æ„å»ºè®¿é—®å™¨    1 2 3  public function getUsernameAttribute(){  return $this->hasOne('App\User','id','user_id')->value('username'); }   Model ä¸å»ºç«‹ appends å±æ€§    å•æ¡è®°å½•    1 2 3 4 5  public function getUserInfo(Request $request){  $id = $request->get('id',null);  $result = User::find($id)->append('username');  return response()->json($result); }   å¤šæ¡è®°å½•    1 2 3 4 5 6 7 8 9 10  public function getUsers(Request $request){  $limit = $request->get('limit',10);  $results = User::orderBy('id','desc')  ->paginate($limit)  ->transform(function($item,$key){  $item->append('username');  return $item; //å¦‚æœä¸ return å‡ºå»è¿”å›çš„æ˜¯ null  });  return response()->json($results); }   å¦‚æœä¸æƒ³ç”¨ append æ–¹æ³•çš„å…³è”å…³ç³»å¯ä»¥è¿™æ ·ç”¨ æˆ–è€…æŠ¥ Method items does not exist.">
<meta name=keywords content="Laravel,Eloquent,ORM,æ¨¡å‹,å®ä¾‹,PHP">
<meta name=twitter:card content="summary">
<meta name=twitter:title content="Laravel Eloquent è¿”å›ç»“æœä¼˜åŒ–">
<meta name=twitter:description content="å‰è¨€    æˆ‘ä»¬éƒ½çŸ¥é“åœ¨æ¨¡å‹ä¸­ä½¿ç”¨ appends å±æ€§æ¥æ„å»ºè®¿é—®å™¨ä½¿å¾—è¿”å›ç»“æœæ·»åŠ ä¸€äº›å­—æ®µä¿¡æ¯ï¼Œä½†æ˜¯è¿™æ ·çš„è¯æœ‰ä¸€ä¸ªåå¤„ï¼Œå°±æ˜¯æ‰€æœ‰è¿™ä¸ªæ¨¡å‹çš„è¿”å›ç»“æœéƒ½ä¼šæœ‰è¿™äº›å­—æ®µä¿¡æ¯ï¼Œå¦‚æœæ¥å£ä¸­è§„å®šäº†ä¸¥æ ¼çš„è¿”å›ä¿¡æ¯å­—æ®µï¼Œè¿™æ ·å°±ä¸åˆé€‚äº†ã€‚
èƒ½ä¸èƒ½æœ‰å¥½çš„æ–¹æ³•åŠ¨æ€çš„æ˜¾ç¤ºæˆ–éšè—è¿™äº›å­—æ®µä¿¡æ¯å‘¢ï¼Ÿ
ç­”æ¡ˆæ˜¯è‚¯å®šçš„ã€‚
åŠ¨æ€æ˜¾ç¤º    åœ¨æ¥å£ä¸­ä¸´æ—¶æ˜¾ç¤º    é¦–å…ˆåœ¨ Model ä¸­æ„å»ºè®¿é—®å™¨    1 2 3  public function getUsernameAttribute(){  return $this->hasOne('App\User','id','user_id')->value('username'); }   Model ä¸å»ºç«‹ appends å±æ€§    å•æ¡è®°å½•    1 2 3 4 5  public function getUserInfo(Request $request){  $id = $request->get('id',null);  $result = User::find($id)->append('username');  return response()->json($result); }   å¤šæ¡è®°å½•    1 2 3 4 5 6 7 8 9 10  public function getUsers(Request $request){  $limit = $request->get('limit',10);  $results = User::orderBy('id','desc')  ->paginate($limit)  ->transform(function($item,$key){  $item->append('username');  return $item; //å¦‚æœä¸ return å‡ºå»è¿”å›çš„æ˜¯ null  });  return response()->json($results); }   å¦‚æœä¸æƒ³ç”¨ append æ–¹æ³•çš„å…³è”å…³ç³»å¯ä»¥è¿™æ ·ç”¨ æˆ–è€…æŠ¥ Method items does not exist.">
<meta property="og:title" content="Laravel Eloquent è¿”å›ç»“æœä¼˜åŒ–">
<meta property="og:description" content="å‰è¨€    æˆ‘ä»¬éƒ½çŸ¥é“åœ¨æ¨¡å‹ä¸­ä½¿ç”¨ appends å±æ€§æ¥æ„å»ºè®¿é—®å™¨ä½¿å¾—è¿”å›ç»“æœæ·»åŠ ä¸€äº›å­—æ®µä¿¡æ¯ï¼Œä½†æ˜¯è¿™æ ·çš„è¯æœ‰ä¸€ä¸ªåå¤„ï¼Œå°±æ˜¯æ‰€æœ‰è¿™ä¸ªæ¨¡å‹çš„è¿”å›ç»“æœéƒ½ä¼šæœ‰è¿™äº›å­—æ®µä¿¡æ¯ï¼Œå¦‚æœæ¥å£ä¸­è§„å®šäº†ä¸¥æ ¼çš„è¿”å›ä¿¡æ¯å­—æ®µï¼Œè¿™æ ·å°±ä¸åˆé€‚äº†ã€‚
èƒ½ä¸èƒ½æœ‰å¥½çš„æ–¹æ³•åŠ¨æ€çš„æ˜¾ç¤ºæˆ–éšè—è¿™äº›å­—æ®µä¿¡æ¯å‘¢ï¼Ÿ
ç­”æ¡ˆæ˜¯è‚¯å®šçš„ã€‚
åŠ¨æ€æ˜¾ç¤º    åœ¨æ¥å£ä¸­ä¸´æ—¶æ˜¾ç¤º    é¦–å…ˆåœ¨ Model ä¸­æ„å»ºè®¿é—®å™¨    1 2 3  public function getUsernameAttribute(){  return $this->hasOne('App\User','id','user_id')->value('username'); }   Model ä¸å»ºç«‹ appends å±æ€§    å•æ¡è®°å½•    1 2 3 4 5  public function getUserInfo(Request $request){  $id = $request->get('id',null);  $result = User::find($id)->append('username');  return response()->json($result); }   å¤šæ¡è®°å½•    1 2 3 4 5 6 7 8 9 10  public function getUsers(Request $request){  $limit = $request->get('limit',10);  $results = User::orderBy('id','desc')  ->paginate($limit)  ->transform(function($item,$key){  $item->append('username');  return $item; //å¦‚æœä¸ return å‡ºå»è¿”å›çš„æ˜¯ null  });  return response()->json($results); }   å¦‚æœä¸æƒ³ç”¨ append æ–¹æ³•çš„å…³è”å…³ç³»å¯ä»¥è¿™æ ·ç”¨ æˆ–è€…æŠ¥ Method items does not exist.">
<meta property="og:type" content="article">
<meta property="og:url" content="https://blog.adminchao.com/zh-cn/posts/laravel-eloquent-%E8%BF%94%E5%9B%9E%E7%BB%93%E6%9E%9C%E4%BC%98%E5%8C%96/"><meta property="article:section" content="posts">
<meta property="article:published_time" content="2019-01-10T15:29:08+00:00">
<meta property="article:modified_time" content="2019-01-10T15:29:08+00:00"><meta property="og:site_name" content="éƒ­è¶…è¶…çš„åšå®¢">
<title>
Laravel Eloquent è¿”å›ç»“æœä¼˜åŒ– Â· éƒ­è¶…è¶…çš„åšå®¢
</title><link rel=canonical href=https://blog.adminchao.com/zh-cn/posts/laravel-eloquent-%E8%BF%94%E5%9B%9E%E7%BB%93%E6%9E%9C%E4%BC%98%E5%8C%96/>
<link rel=preload href="/fonts/forkawesome-webfont.woff2?v=1.2.0" as=font type=font/woff2 crossorigin>
<link rel=stylesheet href=/css/coder.min.d9fddbffe6f27e69985dc5fe0471cdb0e57fbf4775714bc3d847accb08f4a1f6.css integrity="sha256-2f3b/+byfmmYXcX+BHHNsOV/v0d1cUvD2Eesywj0ofY=" crossorigin=anonymous media=screen>
<link rel=stylesheet href=/css/coder-dark.min.002ee2378e14c7a68f1f0a53d9694ed252090987c4e768023fac694a4fc5f793.css integrity="sha256-AC7iN44Ux6aPHwpT2WlO0lIJCYfE52gCP6xpSk/F95M=" crossorigin=anonymous media=screen>
<link rel=icon type=image/png href=/images/favicon-32x32.png sizes=32x32>
<link rel=icon type=image/png href=/images/favicon-16x16.png sizes=16x16>
<link rel=apple-touch-icon href=/images/apple-touch-icon.png>
<link rel=apple-touch-icon sizes=180x180 href=/images/apple-touch-icon.png>
<meta name=generator content="Hugo 0.93.2">
</head><body class="preload-transitions colorscheme-dark">
<div class=float-container>
<a id=dark-mode-toggle class=colorscheme-toggle>
<i class="fa fa-adjust fa-fw" aria-hidden=true></i>
</a>
</div><main class=wrapper>
<nav class=navigation>
<section class=container>
<a class=navigation-title href=/zh-cn>
éƒ­è¶…è¶…çš„åšå®¢
</a>
<input type=checkbox id=menu-toggle>
<label class="menu-button float-right" for=menu-toggle>
<i class="fa fa-bars fa-fw" aria-hidden=true></i>
</label>
<ul class=navigation-list>
<li class=navigation-item>
<a class=navigation-link href=/zh-cn/about/>å…³äº</a>
</li><li class=navigation-item>
<a class=navigation-link href=/zh-cn/posts/>åšæ–‡</a>
</li><li class=navigation-item>
<a class=navigation-link href=/zh-cn/contact/>è”ç³»</a>
</li><li class="navigation-item menu-separator">
<span>|</span>
</li><li class=navigation-item>
<a href=https://blog.adminchao.com/>ğŸ‡ºğŸ‡¸</a>
</li></ul></section></nav><div class=content>
<section class="container post">
<article>
<header>
<div class=post-title>
<h1 class=title>
<a class=title-link href=https://blog.adminchao.com/zh-cn/posts/laravel-eloquent-%E8%BF%94%E5%9B%9E%E7%BB%93%E6%9E%9C%E4%BC%98%E5%8C%96/>
Laravel Eloquent è¿”å›ç»“æœä¼˜åŒ–
</a>
</h1></div><div class=post-meta>
<div class=date>
<span class=posted-on>
<i class="fa fa-calendar" aria-hidden=true></i>
<time datetime=2019-01-10T15:29:08Z>
2019-01-10 15:29:08
</time>
</span>
<span class=reading-time>
<i class="fa fa-clock-o" aria-hidden=true></i>
é˜…è¯»æ—¶é—´ï¼š1 åˆ†é’Ÿ
</span>
</div><div class=categories>
<i class="fa fa-folder" aria-hidden=true></i>
<a href=/zh-cn/categories/%E6%8A%80%E6%9C%AF/>æŠ€æœ¯</a></div><div class=tags>
<i class="fa fa-tag" aria-hidden=true></i>
<span class=tag>
<a href=/zh-cn/tags/laravel/>Laravel</a>
</span>
<span class=separator>â€¢</span>
<span class=tag>
<a href=/zh-cn/tags/eloquent/>Eloquent</a>
</span>
<span class=separator>â€¢</span>
<span class=tag>
<a href=/zh-cn/tags/orm/>ORM</a>
</span>
<span class=separator>â€¢</span>
<span class=tag>
<a href=/zh-cn/tags/%E6%A8%A1%E5%9E%8B/>æ¨¡å‹</a>
</span>
<span class=separator>â€¢</span>
<span class=tag>
<a href=/zh-cn/tags/%E5%AE%9E%E4%BE%8B/>å®ä¾‹</a>
</span>
<span class=separator>â€¢</span>
<span class=tag>
<a href=/zh-cn/tags/php/>PHP</a>
</span></div></div></header><div>
<h2 id=å‰è¨€>
å‰è¨€
<a class=heading-link href=#%e5%89%8d%e8%a8%80>
<i class="fa fa-link" aria-hidden=true></i>
</a>
</h2><p>æˆ‘ä»¬éƒ½çŸ¥é“åœ¨æ¨¡å‹ä¸­ä½¿ç”¨ <code>appends</code> å±æ€§æ¥æ„å»ºè®¿é—®å™¨ä½¿å¾—è¿”å›ç»“æœæ·»åŠ ä¸€äº›å­—æ®µä¿¡æ¯ï¼Œä½†æ˜¯è¿™æ ·çš„è¯æœ‰ä¸€ä¸ªåå¤„ï¼Œå°±æ˜¯æ‰€æœ‰è¿™ä¸ªæ¨¡å‹çš„è¿”å›ç»“æœéƒ½ä¼šæœ‰è¿™äº›å­—æ®µä¿¡æ¯ï¼Œå¦‚æœæ¥å£ä¸­è§„å®šäº†ä¸¥æ ¼çš„è¿”å›ä¿¡æ¯å­—æ®µï¼Œè¿™æ ·å°±ä¸åˆé€‚äº†ã€‚<br>
èƒ½ä¸èƒ½æœ‰å¥½çš„æ–¹æ³•åŠ¨æ€çš„æ˜¾ç¤ºæˆ–éšè—è¿™äº›å­—æ®µä¿¡æ¯å‘¢ï¼Ÿ<br>
ç­”æ¡ˆæ˜¯è‚¯å®šçš„ã€‚</p><h2 id=åŠ¨æ€æ˜¾ç¤º>
åŠ¨æ€æ˜¾ç¤º
<a class=heading-link href=#%e5%8a%a8%e6%80%81%e6%98%be%e7%a4%ba>
<i class="fa fa-link" aria-hidden=true></i>
</a>
</h2><h3 id=åœ¨æ¥å£ä¸­ä¸´æ—¶æ˜¾ç¤º>
åœ¨æ¥å£ä¸­ä¸´æ—¶æ˜¾ç¤º
<a class=heading-link href=#%e5%9c%a8%e6%8e%a5%e5%8f%a3%e4%b8%ad%e4%b8%b4%e6%97%b6%e6%98%be%e7%a4%ba>
<i class="fa fa-link" aria-hidden=true></i>
</a>
</h3><h4 id=é¦–å…ˆåœ¨-model-ä¸­æ„å»ºè®¿é—®å™¨>
é¦–å…ˆåœ¨ Model ä¸­æ„å»ºè®¿é—®å™¨
<a class=heading-link href=#%e9%a6%96%e5%85%88%e5%9c%a8-model-%e4%b8%ad%e6%9e%84%e5%bb%ba%e8%ae%bf%e9%97%ae%e5%99%a8>
<i class="fa fa-link" aria-hidden=true></i>
</a>
</h4><div class=highlight><div style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4>
<table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0>
<pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">2
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">3
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%>
<pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-php data-lang=php><span style=display:flex><span><span style=color:#ff79c6>public</span> <span style=color:#ff79c6>function</span> <span style=color:#50fa7b>getUsernameAttribute</span>(){
</span></span><span style=display:flex><span>    <span style=color:#ff79c6>return</span> <span style=color:#8be9fd;font-style:italic>$this</span><span style=color:#ff79c6>-&gt;</span><span style=color:#50fa7b>hasOne</span>(<span style=color:#f1fa8c>&#39;App\User&#39;</span>,<span style=color:#f1fa8c>&#39;id&#39;</span>,<span style=color:#f1fa8c>&#39;user_id&#39;</span>)<span style=color:#ff79c6>-&gt;</span><span style=color:#50fa7b>value</span>(<span style=color:#f1fa8c>&#39;username&#39;</span>);
</span></span><span style=display:flex><span>}
</span></span></code></pre></td></tr></table></div></div><h4 id=model-ä¸å»ºç«‹-appends-å±æ€§>
Model ä¸å»ºç«‹ <code>appends</code> å±æ€§
<a class=heading-link href=#model-%e4%b8%8d%e5%bb%ba%e7%ab%8b-appends-%e5%b1%9e%e6%80%a7>
<i class="fa fa-link" aria-hidden=true></i>
</a>
</h4><h4 id=å•æ¡è®°å½•>
å•æ¡è®°å½•
<a class=heading-link href=#%e5%8d%95%e6%9d%a1%e8%ae%b0%e5%bd%95>
<i class="fa fa-link" aria-hidden=true></i>
</a>
</h4><div class=highlight><div style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4>
<table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0>
<pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">2
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">3
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">4
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">5
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%>
<pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-php data-lang=php><span style=display:flex><span><span style=color:#ff79c6>public</span> <span style=color:#ff79c6>function</span> <span style=color:#50fa7b>getUserInfo</span>(Request <span style=color:#8be9fd;font-style:italic>$request</span>){
</span></span><span style=display:flex><span>    <span style=color:#8be9fd;font-style:italic>$id</span> <span style=color:#ff79c6>=</span> <span style=color:#8be9fd;font-style:italic>$request</span><span style=color:#ff79c6>-&gt;</span><span style=color:#50fa7b>get</span>(<span style=color:#f1fa8c>&#39;id&#39;</span>,<span style=color:#ff79c6>null</span>);
</span></span><span style=display:flex><span>    <span style=color:#8be9fd;font-style:italic>$result</span> <span style=color:#ff79c6>=</span> User<span style=color:#ff79c6>::</span><span style=color:#50fa7b>find</span>(<span style=color:#8be9fd;font-style:italic>$id</span>)<span style=color:#ff79c6>-&gt;</span><span style=color:#50fa7b>append</span>(<span style=color:#f1fa8c>&#39;username&#39;</span>);
</span></span><span style=display:flex><span>    <span style=color:#ff79c6>return</span> response()<span style=color:#ff79c6>-&gt;</span><span style=color:#50fa7b>json</span>(<span style=color:#8be9fd;font-style:italic>$result</span>);
</span></span><span style=display:flex><span>}
</span></span></code></pre></td></tr></table></div></div><h4 id=å¤šæ¡è®°å½•>
å¤šæ¡è®°å½•
<a class=heading-link href=#%e5%a4%9a%e6%9d%a1%e8%ae%b0%e5%bd%95>
<i class="fa fa-link" aria-hidden=true></i>
</a>
</h4><div class=highlight><div style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4>
<table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0>
<pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">10
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%>
<pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-php data-lang=php><span style=display:flex><span><span style=color:#ff79c6>public</span> <span style=color:#ff79c6>function</span> <span style=color:#50fa7b>getUsers</span>(Request <span style=color:#8be9fd;font-style:italic>$request</span>){
</span></span><span style=display:flex><span>    <span style=color:#8be9fd;font-style:italic>$limit</span> <span style=color:#ff79c6>=</span> <span style=color:#8be9fd;font-style:italic>$request</span><span style=color:#ff79c6>-&gt;</span><span style=color:#50fa7b>get</span>(<span style=color:#f1fa8c>&#39;limit&#39;</span>,<span style=color:#bd93f9>10</span>);
</span></span><span style=display:flex><span>    <span style=color:#8be9fd;font-style:italic>$results</span> <span style=color:#ff79c6>=</span> User<span style=color:#ff79c6>::</span><span style=color:#50fa7b>orderBy</span>(<span style=color:#f1fa8c>&#39;id&#39;</span>,<span style=color:#f1fa8c>&#39;desc&#39;</span>)
</span></span><span style=display:flex><span>                    <span style=color:#ff79c6>-&gt;</span><span style=color:#50fa7b>paginate</span>(<span style=color:#8be9fd;font-style:italic>$limit</span>)
</span></span><span style=display:flex><span>                    <span style=color:#ff79c6>-&gt;</span><span style=color:#50fa7b>transform</span>(<span style=color:#ff79c6>function</span>(<span style=color:#8be9fd;font-style:italic>$item</span>,<span style=color:#8be9fd;font-style:italic>$key</span>){
</span></span><span style=display:flex><span>                        <span style=color:#8be9fd;font-style:italic>$item</span><span style=color:#ff79c6>-&gt;</span><span style=color:#50fa7b>append</span>(<span style=color:#f1fa8c>&#39;username&#39;</span>);
</span></span><span style=display:flex><span>                        <span style=color:#ff79c6>return</span> <span style=color:#8be9fd;font-style:italic>$item</span>;   <span style=color:#6272a4>//å¦‚æœä¸ return å‡ºå»è¿”å›çš„æ˜¯ null
</span></span></span><span style=display:flex><span><span style=color:#6272a4></span>                    });
</span></span><span style=display:flex><span>    <span style=color:#ff79c6>return</span> response()<span style=color:#ff79c6>-&gt;</span><span style=color:#50fa7b>json</span>(<span style=color:#8be9fd;font-style:italic>$results</span>);
</span></span><span style=display:flex><span>}
</span></span></code></pre></td></tr></table></div></div><p>å¦‚æœä¸æƒ³ç”¨ <code>append</code> æ–¹æ³•çš„å…³è”å…³ç³»å¯ä»¥è¿™æ ·ç”¨ æˆ–è€…æŠ¥ <code>Method items does not exist.</code> æ—¶</p><div class=highlight><div style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4>
<table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0>
<pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">10
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">11
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">12
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">13
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">14
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">15
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">16
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%>
<pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-php data-lang=php><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#ff79c6>public</span> <span style=color:#ff79c6>function</span> <span style=color:#50fa7b>getUsers</span>(Request <span style=color:#8be9fd;font-style:italic>$request</span>){
</span></span><span style=display:flex><span>        <span style=color:#8be9fd;font-style:italic>$limit</span> <span style=color:#ff79c6>=</span> <span style=color:#8be9fd;font-style:italic>$request</span><span style=color:#ff79c6>-&gt;</span><span style=color:#50fa7b>get</span>(<span style=color:#f1fa8c>&#39;limit&#39;</span>,<span style=color:#bd93f9>10</span>);
</span></span><span style=display:flex><span>        <span style=color:#8be9fd;font-style:italic>$results</span> <span style=color:#ff79c6>=</span> User<span style=color:#ff79c6>::</span><span style=color:#50fa7b>orderBy</span>(<span style=color:#f1fa8c>&#39;id&#39;</span>,<span style=color:#f1fa8c>&#39;desc&#39;</span>)<span style=color:#ff79c6>-&gt;</span><span style=color:#50fa7b>paginate</span>(<span style=color:#8be9fd;font-style:italic>$limit</span>);
</span></span><span style=display:flex><span>        
</span></span><span style=display:flex><span>        <span style=color:#8be9fd;font-style:italic>$data</span> <span style=color:#ff79c6>=</span> <span style=color:#8be9fd;font-style:italic>$results</span><span style=color:#ff79c6>-&gt;</span><span style=color:#50fa7b>getCollection</span>();
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#8be9fd;font-style:italic>$data</span><span style=color:#ff79c6>-&gt;</span><span style=color:#50fa7b>transform</span>(<span style=color:#ff79c6>function</span>(<span style=color:#8be9fd;font-style:italic>$item</span>,<span style=color:#8be9fd;font-style:italic>$key</span>){
</span></span><span style=display:flex><span>            <span style=color:#8be9fd;font-style:italic>$item</span><span style=color:#ff79c6>-&gt;</span><span style=color:#50fa7b>all_name</span> <span style=color:#ff79c6>=</span> <span style=color:#8be9fd;font-style:italic>$item</span><span style=color:#ff79c6>-&gt;</span><span style=color:#50fa7b>username</span> <span style=color:#ff79c6>.</span> <span style=color:#f1fa8c>&#39; &#39;</span><span style=color:#ff79c6>.</span><span style=color:#8be9fd;font-style:italic>$item</span><span style=color:#ff79c6>-&gt;</span><span style=color:#50fa7b>nickname</span>;
</span></span><span style=display:flex><span>            <span style=color:#ff79c6>return</span> <span style=color:#8be9fd;font-style:italic>$item</span>;   <span style=color:#6272a4>//å¦‚æœä¸ return å‡ºå»è¿”å›çš„æ˜¯ null
</span></span></span><span style=display:flex><span><span style=color:#6272a4></span>        });
</span></span><span style=display:flex><span>        
</span></span><span style=display:flex><span>        <span style=color:#8be9fd;font-style:italic>$results</span><span style=color:#ff79c6>-&gt;</span><span style=color:#50fa7b>setCollection</span>(<span style=color:#8be9fd;font-style:italic>$data</span>);
</span></span><span style=display:flex><span>        
</span></span><span style=display:flex><span>        <span style=color:#ff79c6>return</span> <span style=color:#8be9fd;font-style:italic>$this</span><span style=color:#ff79c6>-&gt;</span><span style=color:#50fa7b>pageDate</span>(<span style=color:#8be9fd;font-style:italic>$results</span>);
</span></span><span style=display:flex><span>    }
</span></span></code></pre></td></tr></table></div></div><h3 id=åœ¨æ¥å£ä¸­ä¸´æ—¶éšè—>
åœ¨æ¥å£ä¸­ä¸´æ—¶éšè—
<a class=heading-link href=#%e5%9c%a8%e6%8e%a5%e5%8f%a3%e4%b8%ad%e4%b8%b4%e6%97%b6%e9%9a%90%e8%97%8f>
<i class="fa fa-link" aria-hidden=true></i>
</a>
</h3><p>å¦‚æœå·²ç»æ·»åŠ äº†å¾ˆå¤š <code>appends</code> å±æ€§ï¼Œé‚£ä¹ˆæŠŠä¸Šè¾¹ä¸´æ—¶æ˜¾ç¤ºçš„</p><div class=highlight><div style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4>
<table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0>
<pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%>
<pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-php data-lang=php><span style=display:flex><span>append(<span style=color:#8be9fd;font-style:italic>$attribute</span>)
</span></span></code></pre></td></tr></table></div></div><p>æ–¹æ³•æ›¿æ¢æˆ</p><div class=highlight><div style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4>
<table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0>
<pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%>
<pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-php data-lang=php><span style=display:flex><span>addHidden(<span style=color:#8be9fd;font-style:italic>$attribute</span>)
</span></span></code></pre></td></tr></table></div></div><p>å°±å¯ä»¥äº†</p></div><footer>
</footer></article></section></div><footer class=footer>
<section class=container>
Â©
2019 -
2022
éƒ­è¶…è¶…
Â·
æŠ€æœ¯æ”¯æŒ <a href=https://gohugo.io/>Hugo</a> & <a href=https://github.com/luizdepra/hugo-coder/>Coder</a>.
</section></footer></main><script src=/js/coder.min.8fb86376a16e684af472a329aef502dbebcfab65ce264e9750d144912947c602.js integrity="sha256-j7hjdqFuaEr0cqMprvUC2+vPq2XOJk6XUNFEkSlHxgI="></script>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-NK08XEDHKZ"></script>
<script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-NK08XEDHKZ")</script>
</body></html>