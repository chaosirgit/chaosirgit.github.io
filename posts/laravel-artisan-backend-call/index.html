<!DOCTYPE html>
<html lang="en">

  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="color-scheme" content="light dark">

    
      <meta http-equiv="Content-Security-Policy" content="upgrade-insecure-requests; block-all-mixed-content; default-src 'self'; child-src 'self'; font-src 'self' https://fonts.gstatic.com https://cdn.jsdelivr.net/; form-action 'self'; frame-src 'self'; img-src 'self'; object-src 'none'; style-src 'self' 'unsafe-inline' https://fonts.googleapis.com/ https://cdn.jsdelivr.net/; script-src https://www.google-analytics.com https://cdn.jsdelivr.net/ https://ssl.google-analytics.com; prefetch-src 'self'; connect-src 'self' https://www.google-analytics.com;">

    

    <meta name="author" content="Ethan Kuo">
    <meta name="description" content="Preface    If you need to execute a script programmatically in the background in your project, with the official Artisan::call() call, if the script takes too long, the process will be interrupted and the script will not execute successfully, so you need to hang the execution in the background.
Artisan Command Line Tools    Please refer to the official documentation.
Called programmatically    1 2 3 4 5  &lt;?">
    <meta name="keywords" content="Laravel,Artisan,Backend,Command">

    <meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Laravel Artisan Backend Call"/>
<meta name="twitter:description" content="Preface    If you need to execute a script programmatically in the background in your project, with the official Artisan::call() call, if the script takes too long, the process will be interrupted and the script will not execute successfully, so you need to hang the execution in the background.
Artisan Command Line Tools    Please refer to the official documentation.
Called programmatically    1 2 3 4 5  &lt;?"/>

    <meta property="og:title" content="Laravel Artisan Backend Call" />
<meta property="og:description" content="Preface    If you need to execute a script programmatically in the background in your project, with the official Artisan::call() call, if the script takes too long, the process will be interrupted and the script will not execute successfully, so you need to hang the execution in the background.
Artisan Command Line Tools    Please refer to the official documentation.
Called programmatically    1 2 3 4 5  &lt;?" />
<meta property="og:type" content="article" />
<meta property="og:url" content="http://chaosirgit.github.io/posts/laravel-artisan-backend-call/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2018-10-15T10:04:39+00:00" />
<meta property="article:modified_time" content="2018-10-15T10:04:39+00:00" />



    <title>
  Laravel Artisan Backend Call Â· Ethan Kuo Blog
</title>

    
      <link rel="canonical" href="http://chaosirgit.github.io/posts/laravel-artisan-backend-call/">
    

    <link rel="preload" href="/fonts/forkawesome-webfont.woff2?v=1.2.0" as="font" type="font/woff2" crossorigin>

    
      
      
      <link rel="stylesheet" href="/css/coder.min.d9fddbffe6f27e69985dc5fe0471cdb0e57fbf4775714bc3d847accb08f4a1f6.css" integrity="sha256-2f3b/&#43;byfmmYXcX&#43;BHHNsOV/v0d1cUvD2Eesywj0ofY=" crossorigin="anonymous" media="screen" />
    

    

    
      
        
        
        <link rel="stylesheet" href="/css/coder-dark.min.002ee2378e14c7a68f1f0a53d9694ed252090987c4e768023fac694a4fc5f793.css" integrity="sha256-AC7iN44Ux6aPHwpT2WlO0lIJCYfE52gCP6xpSk/F95M=" crossorigin="anonymous" media="screen" />
      
    

    

    

    <link rel="icon" type="image/png" href="/images/favicon-32x32.png" sizes="32x32">
    <link rel="icon" type="image/png" href="/images/favicon-16x16.png" sizes="16x16">

    <link rel="apple-touch-icon" href="/images/apple-touch-icon.png">
    <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon.png">

    <meta name="generator" content="Hugo 0.89.1" />
  </head>

  
  
    
  
  <body class="preload-transitions colorscheme-dark">
    
<div class="float-container">
    <a id="dark-mode-toggle" class="colorscheme-toggle">
        <i class="fa fa-adjust fa-fw" aria-hidden="true"></i>
    </a>
</div>


    <main class="wrapper">
      <nav class="navigation">
  <section class="container">
    <a class="navigation-title" href="/">
      Ethan Kuo Blog
    </a>
    
      <input type="checkbox" id="menu-toggle" />
      <label class="menu-button float-right" for="menu-toggle">
        <i class="fa fa-bars fa-fw" aria-hidden="true"></i>
      </label>
      <ul class="navigation-list">
        
          
            <li class="navigation-item">
              <a class="navigation-link" href="/about/">About</a>
            </li>
          
            <li class="navigation-item">
              <a class="navigation-link" href="/posts/">Blog</a>
            </li>
          
            <li class="navigation-item">
              <a class="navigation-link" href="/contact/">Contact me</a>
            </li>
          
        
        
          
          
          
            
          
            
              
                <li class="navigation-item menu-separator">
                  <span>|</span>
                </li>
                
              
              <li class="navigation-item">
                <a href="http://chaosirgit.github.io/zh-cn/">ðŸ‡¨ðŸ‡³</a>
              </li>
            
          
        
      </ul>
    
  </section>
</nav>


      <div class="content">
        
  <section class="container post">
    <article>
      <header>
        <div class="post-title">
          <h1 class="title">
            <a class="title-link" href="http://chaosirgit.github.io/posts/laravel-artisan-backend-call/">
              Laravel Artisan Backend Call
            </a>
          </h1>
        </div>
        <div class="post-meta">
          <div class="date">
            <span class="posted-on">
              <i class="fa fa-calendar" aria-hidden="true"></i>
              <time datetime="2018-10-15T10:04:39Z">
                2018-10-15 10:04:39
              </time>
            </span>
            <span class="reading-time">
              <i class="fa fa-clock-o" aria-hidden="true"></i>
              One-minute read
            </span>
          </div>
          
          <div class="categories">
  <i class="fa fa-folder" aria-hidden="true"></i>
    <a href="/categories/technology/">Technology</a></div>

          <div class="tags">
  <i class="fa fa-tag" aria-hidden="true"></i>
    <span class="tag">
      <a href="/tags/laravel/">Laravel</a>
    </span>
      <span class="separator">â€¢</span>
    <span class="tag">
      <a href="/tags/artisan/">Artisan</a>
    </span>
      <span class="separator">â€¢</span>
    <span class="tag">
      <a href="/tags/backend/">Backend</a>
    </span>
      <span class="separator">â€¢</span>
    <span class="tag">
      <a href="/tags/command/">Command</a>
    </span></div>

        </div>
      </header>

      <div>
        
        <h2 id="preface">
  Preface
  <a class="heading-link" href="#preface">
    <i class="fa fa-link" aria-hidden="true"></i>
  </a>
</h2>
<p>If you need to execute a script programmatically in the background in your project, with the official <code>Artisan::call()</code> call, if the script takes too long, the process will be interrupted and the script will not execute successfully, so you need to hang the execution in the background.</p>
<h2 id="artisan-command-line-tools">
  Artisan Command Line Tools
  <a class="heading-link" href="#artisan-command-line-tools">
    <i class="fa fa-link" aria-hidden="true"></i>
  </a>
</h2>
<p>Please refer to the official documentation.</p>
<h2 id="called-programmatically">
  Called programmatically
  <a class="heading-link" href="#called-programmatically">
    <i class="fa fa-link" aria-hidden="true"></i>
  </a>
</h2>
<div class="highlight"><div style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4">
<table style="border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">3
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">4
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">5
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-php" data-lang="php"><span style="color:#ff79c6">&lt;?</span>php

<span style="color:#ff79c6">use</span> Illuminate\Support\Facades\Artisan;

Artisan<span style="color:#ff79c6">::</span><span style="color:#50fa7b">call</span>(<span style="color:#f1fa8c">&#39;command&#39;</span>,[<span style="color:#f1fa8c">&#39;id&#39;</span><span style="color:#ff79c6">=&gt;</span><span style="color:#bd93f9">1</span>]);
</code></pre></td></tr></table>
</div>
</div><p>If there is a transaction in the code, <code>Artisan::call()</code> needs to be called after <code>commit</code> or <code>rollback</code>.</p>
<h2 id="backend-call">
  Backend call
  <a class="heading-link" href="#backend-call">
    <i class="fa fa-link" aria-hidden="true"></i>
  </a>
</h2>
<p>Code</p>
<div class="highlight"><div style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4">
<table style="border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">3
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">4
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">5
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">6
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-php" data-lang="php"><span style="color:#ff79c6">&lt;?</span>php
<span style="color:#ff79c6">use</span> Symfony\Component\Process\Process;

<span style="color:#8be9fd;font-style:italic">$process</span> <span style="color:#ff79c6">=</span> <span style="color:#ff79c6">new</span> Process(<span style="color:#f1fa8c">&#39;nohup php artisan command &#39;</span><span style="color:#ff79c6">.</span><span style="color:#8be9fd;font-style:italic">$id</span> <span style="color:#ff79c6">.</span><span style="color:#f1fa8c">&#39; &gt;/var/www/html/crowd/nohup.log 2&gt;&amp;1 &amp;&#39;</span>,<span style="color:#f1fa8c">&#39;path/to/artisan&#39;</span>); <span style="color:#6272a4">//The first parameter is the command to run, in the same way as Linux, and the second parameter is the path where the command can be executed.
</span><span style="color:#6272a4"></span><span style="color:#8be9fd;font-style:italic">$process</span><span style="color:#ff79c6">-&gt;</span><span style="color:#50fa7b">start</span>();
<span style="color:#ff79c6">?&gt;</span>
</code></pre></td></tr></table>
</div>
</div>
      </div>


      <footer>
        


        
        
        
      </footer>
    </article>

    
  </section>

      </div>

      <footer class="footer">
  <section class="container">
    Â©
    
      2019 -
    
    2022
     Ethan Kuo 
    Â·
    
    Powered by <a href="https://gohugo.io/">Hugo</a> & <a href="https://github.com/luizdepra/hugo-coder/">Coder</a>.
    
  </section>
</footer>

    </main>

    
      
      <script src="/js/coder.min.39a51230dce2ac866c049b52573e38bf60666af4bc63c1bdf203b9b2d95b1cd6.js" integrity="sha256-OaUSMNzirIZsBJtSVz44v2BmavS8Y8G98gO5stlbHNY="></script>
    

    

    

    

    

    

    

    

    
<script async src="https://www.googletagmanager.com/gtag/js?id=G-NK08XEDHKZ"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-NK08XEDHKZ');
</script>

  </body>

</html>
